#   tmp3,
#   log = "y",
#   type = "b",
#   ylim = c(0.01, 1),
#   xlab = "Rank",
#   ylab = "Relative Abundance",
#   main = paste("Community", name)
# )
}
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), tmp3) %>%
as.data.frame() %>%
ggplot() +
geom_bar()
}
# plot(
#   1:length(tmp3),
#   tmp3,
#   log = "y",
#   type = "b",
#   ylim = c(0.01, 1),
#   xlab = "Rank",
#   ylab = "Relative Abundance",
#   main = paste("Community", name)
# )
rank.abund(invertData, "T108A3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_bar()
}
# plot(
#   1:length(tmp3),
#   tmp3,
#   log = "y",
#   type = "b",
#   ylim = c(0.01, 1),
#   xlab = "Rank",
#   ylab = "Relative Abundance",
#   main = paste("Community", name)
# )
rank.abund(invertData, "T108A3")
tmp < invertData["T108A3"]
tmp < invertData["T108A3",]
tmp <- invertData["T108A3",]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
df <- cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame()
df
ggplot(aes(x = rank, y = RA)) +
geom_bar()
ggplot(aes(y = RA)) +
geom_bar()
class(df)
ggplot(aes(y = RA)) +
geom_bar()
ggplot(aes(x = rank, y = RA)) +
geom_col()
ggplot(df, aes(x = rank, y = RA)) +
geom_col()
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col()
}
# plot(
#   1:length(tmp3),
#   tmp3,
#   log = "y",
#   type = "b",
#   ylim = c(0.01, 1),
#   xlab = "Rank",
#   ylab = "Relative Abundance",
#   main = paste("Community", name)
# )
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name))
}
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = log(RA))) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name))
}
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = log(RA + 1))) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name))
}
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name))
}
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name)) +
ylim(0,1)
}
rank.abund(invertData, "T106A1")
rank.abund(invertData, "T106A2")
rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
# rank.abund(invertData, "T106B1")
rank.abund(invertData, "T106B2")
rank.abund(invertData, "T106B3")
rank.abund(invertData, "T108A1")
rank.abund(invertData, "T108A2")
rank.abund(invertData, "T108A3")
rank.abund(invertData, "T108B1")
rank.abund(invertData, "T108B2")
rank.abund(invertData, "T108B3")
rank.abund(invertData, "T109A1")
rank.abund(invertData, "T109A2")
rank.abund(invertData, "T109A3")
rank.abund(invertData, "T109B1")
rank.abund(invertData, "T109B2")
rank.abund(invertData, "T109B3")
grid.arrange(A1, A2, A3)
library(tidyverse)
library(dplyr)
library(lme4)
library(ggpubr)
grid.arrange(A1, A2, A3)
grid.arrange(A1, A2, A3)
ggarrange(A1, A2, A3)
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- # rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B1, B2, B3, B4, B5, B6, B7, B8, B9,
ncol = 9)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B2, B3, B4, B5, B6, B7, B8, B9,
ncol = 9)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B2, B3, B4, B5, B6, B7, B8, B9)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B2, B3, B4, B5, B6, B7, B8, B9, ncol = 2)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3)
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B1, B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3)
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B1, B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3)
invertData <- read.csv("EEB397_InvertData.csv", row.names = 1)
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = tmp3) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name)) +
ylim(0,1)
}
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B1, B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3)
ggarrange(A1, A2, A3, A4, A5, A6, A7, A8, A9,
B1, B2, B3, B4, B5, B6, B7, B8, B9, ncol = 3, nrow = 2)
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3, nrow = 2
)
rank.abund(invertData, "T109A1")
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3
)
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3
)
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = log(tmp3 + 1)) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name)) +
ylim(0,1)
}
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3
)
rank.abund <- function(x, name) {
tmp <- x[name, ]
tmp2 <- tmp[tmp > 0] / sum(tmp)
tmp3 <- tmp2[order(-tmp2)]
cbind(rank = 1:length(tmp3), RA = log(tmp3 + 1)) %>%
as.data.frame() %>%
ggplot(aes(x = rank, y = RA)) +
geom_col() +
labs(y = "Relative Abundance", x = "Rank", title = paste("Pond", name)) +
ylim(0,0.75)
}
A1 <- rank.abund(invertData, "T106A1")
A2 <- rank.abund(invertData, "T106A2")
A3 <- rank.abund(invertData, "T106A3")
B1 <- rank.abund(invertData, "T106B1")
B2 <- rank.abund(invertData, "T106B2")
B3 <- rank.abund(invertData, "T106B3")
A4 <- rank.abund(invertData, "T108A1")
A5 <- rank.abund(invertData, "T108A2")
A6 <- rank.abund(invertData, "T108A3")
B4 <- rank.abund(invertData, "T108B1")
B5 <- rank.abund(invertData, "T108B2")
B6 <- rank.abund(invertData, "T108B3")
A7 <- rank.abund(invertData, "T109A1")
A8 <- rank.abund(invertData, "T109A2")
A9 <- rank.abund(invertData, "T109A3")
B7 <- rank.abund(invertData, "T109B1")
B8 <- rank.abund(invertData, "T109B2")
B9 <- rank.abund(invertData, "T109B3")
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3
)
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3, nrow = 2
)
ggarrange(A1, A2, A3,
B1, B2, B3,
A4, A5, A6,
B4, B5, B6,
A7, A8, A9,
B7, B8, B9,
ncol = 3
)
